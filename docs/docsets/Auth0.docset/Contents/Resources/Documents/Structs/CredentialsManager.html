<!DOCTYPE html>
<html lang="en">
  <head>
    <title>CredentialsManager Structure Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>

    <a name="//apple_ref/swift/Struct/CredentialsManager" class="dashAnchor"></a>

    <a title="CredentialsManager Structure Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          Auth0 2.2.0 Docs
        </a>
         (98% documented)
      </p>
    
      <div class="header-col--secondary">
        <form role="search" action="../search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </div>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/auth0/Auth0.swift">
            <img class="header-icon" src="../img/gh.png" alt="GitHub"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">Auth0 Reference</a>
      <img class="carat" src="../img/carat.png" alt=""/>
      CredentialsManager Structure Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Credentials.html">Credentials</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/UserPatchAttributes.html">UserPatchAttributes</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Global%20Variables.html">Global Variables</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Global%20Variables.html#/s:5Auth012defaultScopeSSvp">defaultScope</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/PasswordlessType.html">PasswordlessType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/A0SimpleKeychain.html">A0SimpleKeychain</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Data.html">Data</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions.html#/SafariUserAgent">SafariUserAgent</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/WebAuthentication.html">WebAuthentication</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:5Auth014authentication8clientId6domain7sessionAA14Authentication_pSS_SSSo12NSURLSessionCtF">authentication(clientId:domain:session:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:5Auth014authentication7session6bundleAA14Authentication_pSo12NSURLSessionC_So8NSBundleCtF">authentication(session:bundle:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:5Auth05users5token6domain7sessionAA5Users_pSS_SSSo12NSURLSessionCtF">users(token:domain:session:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:5Auth05users5token7session6bundleAA5Users_pSS_So12NSURLSessionCSo8NSBundleCtF">users(token:session:bundle:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/webAuth(clientId:domain:session:)">webAuth(clientId:domain:session:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:5Auth07webAuth8clientId6domain7sessionAA03WebC0_pSS_SSSo12NSURLSessionCtF">webAuth(clientId:domain:session:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/webAuth(session:bundle:)">webAuth(session:bundle:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Functions.html#/s:5Auth07webAuth7session6bundleAA03WebC0_pSo12NSURLSessionC_So8NSBundleCtF">webAuth(session:bundle:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/Auth0APIError.html">Auth0APIError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/Auth0Error.html">Auth0Error</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/Authentication.html">Authentication</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/CredentialsStorage.html">CredentialsStorage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/Loggable.html">Loggable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/Logger.html">Logger</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/Trackable.html">Trackable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/Users.html">Users</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/WebAuth.html">WebAuth</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/WebAuthUserAgent.html">WebAuthUserAgent</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/AuthenticationError.html">AuthenticationError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Challenge.html">Challenge</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/CredentialsManager.html">CredentialsManager</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/CredentialsManagerError.html">CredentialsManagerError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/JWK.html">JWK</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/JWKS.html">JWKS</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/ManagementError.html">ManagementError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Request.html">Request</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Telemetry.html">Telemetry</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/UserInfo.html">UserInfo</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/WebAuthError.html">WebAuthError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/WebAuthentication.html">WebAuthentication</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases.html#/s:5Auth020AuthenticationResulta">AuthenticationResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases.html#/s:5Auth024CredentialsManagerResulta">CredentialsManagerResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases.html#/s:5Auth012DatabaseUsera">DatabaseUser</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases.html#/s:5Auth016ManagementObjecta">ManagementObject</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases.html#/s:5Auth016ManagementResulta">ManagementResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases.html#/s:5Auth015WebAuthProvidera">WebAuthProvider</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases.html#/WebAuthResult">WebAuthResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases.html#/s:5Auth013WebAuthResulta">WebAuthResult</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>CredentialsManager</h1>
              <div class="declaration">
                <div class="language">
                  
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">CredentialsManager</span></code></pre>

                </div>
              </div>
            <p>Credentials management utility for securely storing and retrieving the user&rsquo;s credentials from the Keychain.</p>
<div class="aside aside-see">
    <p class="aside-title">See</p>
    <code><a href="../Structs/CredentialsManagerError.html">CredentialsManagerError</a></code>

</div>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Auth018CredentialsManagerV14authentication8storeKey7storageAcA14Authentication_p_SSAA0B7Storage_ptcfc"></a>
                    <a name="//apple_ref/swift/Method/init(authentication:storeKey:storage:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Auth018CredentialsManagerV14authentication8storeKey7storageAcA14Authentication_p_SSAA0B7Storage_ptcfc">init(authentication:<wbr>storeKey:<wbr>storage:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Creates a new <code>CredentialsManager</code> instance.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="nv">authentication</span><span class="p">:</span> <span class="kt"><a href="../Protocols/Authentication.html">Authentication</a></span><span class="p">,</span> <span class="nv">storeKey</span><span class="p">:</span> <span class="kt">String</span> <span class="o">=</span> <span class="s">"credentials"</span><span class="p">,</span> <span class="nv">storage</span><span class="p">:</span> <span class="kt"><a href="../Protocols/CredentialsStorage.html">CredentialsStorage</a></span> <span class="o">=</span> <span class="kt">A0SimpleKeychain</span><span class="p">())</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>authentication</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Auth0 Authentication API client.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>storeKey</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Key used to store user credentials in the Keychain. Defaults to &lsquo;credentials&rsquo;.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>storage</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The <code><a href="../Protocols/CredentialsStorage.html">CredentialsStorage</a></code> instance used to manage credentials storage. Defaults to a standard <code>A0SimpleKeychain</code> instance.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Auth018CredentialsManagerV4userAA8UserInfoVSgvp"></a>
                    <a name="//apple_ref/swift/Property/user" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Auth018CredentialsManagerV4userAA8UserInfoVSgvp">user</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Retrieves the user information from the Keychain synchronously, without checking if the credentials are expired.
The user information is read from the stored <a href="https://auth0.com/docs/security/tokens/id-tokens">ID token</a>.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">user</span> <span class="o">=</span> <span class="n">credentialsManager</span><span class="o">.</span><span class="n">user</span>
</code></pre>
<div class="aside aside-important">
    <p class="aside-title">Important</p>
    Access to this property will not be protected by biometric authentication.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">user</span><span class="p">:</span> <span class="kt"><a href="../Structs/UserInfo.html">UserInfo</a></span><span class="p">?</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Auth018CredentialsManagerV16enableBiometrics9withTitle06cancelG008fallbackG016evaluationPolicyySS_SSSgAISo8LAPolicyVtF"></a>
                    <a name="//apple_ref/swift/Method/enableBiometrics(withTitle:cancelTitle:fallbackTitle:evaluationPolicy:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Auth018CredentialsManagerV16enableBiometrics9withTitle06cancelG008fallbackG016evaluationPolicyySS_SSSgAISo8LAPolicyVtF">enableBiometrics(withTitle:<wbr>cancelTitle:<wbr>fallbackTitle:<wbr>evaluationPolicy:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Enables biometric authentication for additional security during credentials retrieval.</p>
<pre class="highlight swift"><code><span class="n">credentialsManager</span><span class="o">.</span><span class="nf">enableBiometrics</span><span class="p">(</span><span class="nv">withTitle</span><span class="p">:</span> <span class="s">"Touch to Login"</span><span class="p">)</span>
</code></pre>

<p>If needed, you can specify a particular <code>LAPolicy</code> to be used. For example, you might want to support Face ID or
Touch ID, but also allow fallback to passcode.</p>
<pre class="highlight swift"><code><span class="n">credentialsManager</span><span class="o">.</span><span class="nf">enableBiometrics</span><span class="p">(</span><span class="nv">withTitle</span><span class="p">:</span> <span class="s">"Touch or enter passcode to Login"</span><span class="p">,</span> 
                                    <span class="nv">evaluationPolicy</span><span class="p">:</span> <span class="o">.</span><span class="n">deviceOwnerAuthentication</span><span class="p">)</span>
</code></pre>
<div class="aside aside-important">
    <p class="aside-title">Important</p>
    Access to the <code><a href="../Structs/CredentialsManager.html#/s:5Auth018CredentialsManagerV4userAA8UserInfoVSgvp">user</a></code> property will not be protected by biometric authentication.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">mutating</span> <span class="kd">func</span> <span class="nf">enableBiometrics</span><span class="p">(</span><span class="n">withTitle</span> <span class="nv">title</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">cancelTitle</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">fallbackTitle</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">evaluationPolicy</span><span class="p">:</span> <span class="kt">LAPolicy</span> <span class="o">=</span> <span class="kt">LAPolicy</span><span class="o">.</span><span class="n">deviceOwnerAuthenticationWithBiometrics</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>title</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Main message to display when Face ID or Touch ID is used.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>cancelTitle</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Cancel message to display when Face ID or Touch ID is used.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>fallbackTitle</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Fallback message to display when Face ID or Touch ID is used after a failed match.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>evaluationPolicy</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Policy to be used for authentication policy evaluation.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Auth018CredentialsManagerV5store11credentialsSbAA0B0C_tF"></a>
                    <a name="//apple_ref/swift/Method/store(credentials:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Auth018CredentialsManagerV5store11credentialsSbAA0B0C_tF">store(credentials:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Stores a credentials instance in the Keychain.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">didStore</span> <span class="o">=</span> <span class="n">credentialsManager</span><span class="o">.</span><span class="nf">store</span><span class="p">(</span><span class="nv">credentials</span><span class="p">:</span> <span class="n">credentials</span><span class="p">)</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">store</span><span class="p">(</span><span class="nv">credentials</span><span class="p">:</span> <span class="kt"><a href="../Classes/Credentials.html">Credentials</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>credentials</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Credentials instance to store.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>If the credentials were stored.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Auth018CredentialsManagerV5clearSbyF"></a>
                    <a name="//apple_ref/swift/Method/clear()" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Auth018CredentialsManagerV5clearSbyF">clear()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Clears credentials stored in the Keychain.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">didClear</span> <span class="o">=</span> <span class="n">credentialsManager</span><span class="o">.</span><span class="nf">clear</span><span class="p">()</span>
</code></pre>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">clear</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>If the credentials were removed.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Auth018CredentialsManagerV6revoke7headers_ySDyS2SG_ys6ResultOyytAA0bC5ErrorVGctF"></a>
                    <a name="//apple_ref/swift/Method/revoke(headers:_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Auth018CredentialsManagerV6revoke7headers_ySDyS2SG_ys6ResultOyytAA0bC5ErrorVGctF">revoke(headers:<wbr>_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Calls the <code>/oauth/revoke</code> endpoint to revoke the refresh token and then clears the credentials if the request
was successful. Otherwise, the credentials will not be cleared and the callback will be called with a failure
result containing a <code><a href="../Structs/CredentialsManagerError.html#/s:5Auth023CredentialsManagerErrorV12revokeFailedACvpZ">revokeFailed</a></code> error.</p>
<pre class="highlight swift"><code><span class="n">credentialsManager</span><span class="o">.</span><span class="n">revoke</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="o">.</span><span class="nv">success</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Revoked refresh token and cleared credentials"</span><span class="p">)</span>
    <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Failed with: </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>If you need to specify custom headers for the refresh token revocation:</p>
<pre class="highlight swift"><code><span class="n">credentialsManager</span><span class="o">.</span><span class="nf">revoke</span><span class="p">(</span><span class="nv">headers</span><span class="p">:</span> <span class="p">[</span><span class="s">"key"</span><span class="p">:</span> <span class="s">"value"</span><span class="p">])</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">}</span>
</code></pre>

<p>If no refresh token is available the endpoint is not called, the credentials are cleared, and the callback is
invoked with a success case.</p>
<div class="aside aside-see">
    <p class="aside-title">See</p>
    <a href="https://auth0.com/docs/secure/tokens/refresh-tokens">Refresh tokens</a>

</div><div class="aside aside-see">
    <p class="aside-title">See</p>
    <a href="https://auth0.com/docs/api/authentication#revoke-refresh-token">Authentication API Endpoint</a>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">revoke</span><span class="p">(</span><span class="nv">headers</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">String</span><span class="p">]</span> <span class="o">=</span> <span class="p">[:],</span> <span class="n">_</span> <span class="nv">callback</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt"><a href="../Typealiases.html#/s:5Auth024CredentialsManagerResulta">CredentialsManagerResult</a></span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>headers</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Additional headers to use when revoking the refresh token.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>callback</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Callback that receives a <code>Result</code> containing either an empty success case or an error.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Auth018CredentialsManagerV8hasValid6minTTLSbSi_tF"></a>
                    <a name="//apple_ref/swift/Method/hasValid(minTTL:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Auth018CredentialsManagerV8hasValid6minTTLSbSi_tF">hasValid(minTTL:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Checks that there are credentials stored, and that the access token has not expired and will not expire within
the specified TTL.</p>
<pre class="highlight swift"><code><span class="k">guard</span> <span class="n">credentialsManager</span><span class="o">.</span><span class="nf">hasValid</span><span class="p">()</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// No valid credentials exist, present the login page</span>
<span class="p">}</span>
<span class="c1">// Retrieve stored credentials</span>
</code></pre>
<div class="aside aside-see">
    <p class="aside-title">See</p>
    <code><a href="../Classes/Credentials.html#/s:5Auth011CredentialsC9expiresIn10Foundation4DateVvp">expiresIn</a></code>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">hasValid</span><span class="p">(</span><span class="nv">minTTL</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>minTTL</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Minimum lifetime in seconds the access token must have left. Defaults to <code>0</code>.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>If there are credentials stored containing an access token that is neither expired or about to expire.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Auth018CredentialsManagerV11credentials9withScope6minTTL10parameters7headers8callbackySSSg_SiSDySSypGSDyS2SGys6ResultOyAA0B0CAA0bC5ErrorVGctF"></a>
                    <a name="//apple_ref/swift/Method/credentials(withScope:minTTL:parameters:headers:callback:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Auth018CredentialsManagerV11credentials9withScope6minTTL10parameters7headers8callbackySSSg_SiSDySSypGSDyS2SGys6ResultOyAA0B0CAA0bC5ErrorVGctF">credentials(withScope:<wbr>minTTL:<wbr>parameters:<wbr>headers:<wbr>callback:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Retrieves credentials from the Keychain and yields new credentials using the refresh token if the access token
is expired. Otherwise, the retrieved credentials will be returned via the success case as they are not expired.
Renewed credentials will be stored in the Keychain.</p>
<pre class="highlight swift"><code><span class="n">credentialsManager</span><span class="o">.</span><span class="n">credentials</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="k">let</span> <span class="nv">credentials</span><span class="p">):</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Obtained credentials: </span><span class="se">\(</span><span class="n">credentials</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Failed with: </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>To avoid retrieving access tokens with too little time left, you can enforce a minimum TTL:</p>
<pre class="highlight swift"><code><span class="n">credentialsManager</span><span class="o">.</span><span class="nf">credentials</span><span class="p">(</span><span class="nv">minTTL</span><span class="p">:</span> <span class="mi">60</span><span class="p">)</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">}</span>
</code></pre>

<p>If you need to specify custom parameters or headers for the credentials renewal:</p>
<pre class="highlight swift"><code><span class="n">credentialsManager</span><span class="o">.</span><span class="nf">credentials</span><span class="p">(</span><span class="nv">parameters</span><span class="p">:</span> <span class="p">[</span><span class="s">"key"</span><span class="p">:</span> <span class="s">"value"</span><span class="p">],</span>
                               <span class="nv">headers</span><span class="p">:</span> <span class="p">[</span><span class="s">"key"</span><span class="p">:</span> <span class="s">"value"</span><span class="p">])</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">}</span>
</code></pre>

<p>When renewing credentials you can get a downscoped access token by requesting fewer scopes than were requested
on login. If you specify fewer scopes, the credentials will be renewed immediately, regardless of whether they
are expired or not.</p>
<pre class="highlight swift"><code><span class="n">credentialsManager</span><span class="o">.</span><span class="nf">credentials</span><span class="p">(</span><span class="nv">scope</span><span class="p">:</span> <span class="s">"openid offline_access"</span><span class="p">)</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">}</span>
</code></pre>
<div class="aside aside-requires">
    <p class="aside-title">Requires</p>
    The scope <code>offline_access</code> to have been requested on login to get a refresh token from Auth0. If the credentials are expired and there is no refresh token, the callback will be called with a failure case containing a <code><a href="../Structs/CredentialsManagerError.html#/s:5Auth023CredentialsManagerErrorV14noRefreshTokenACvpZ">noRefreshToken</a></code> error.

</div><div class="aside aside-note">
    <p class="aside-title">Note</p>
    This method is thread-safe.

</div><div class="aside aside-see">
    <p class="aside-title">See</p>
    <a href="https://auth0.com/docs/secure/tokens/refresh-tokens">Refresh tokens</a>

</div><div class="aside aside-see">
    <p class="aside-title">See</p>
    <a href="https://auth0.com/docs/api/authentication#refresh-token">Authentication API Endpoint</a>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">credentials</span><span class="p">(</span><span class="n">withScope</span> <span class="nv">scope</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">minTTL</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">parameters</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[:],</span> <span class="nv">headers</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">String</span><span class="p">]</span> <span class="o">=</span> <span class="p">[:],</span> <span class="nv">callback</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt"><a href="../Typealiases.html#/s:5Auth024CredentialsManagerResulta">CredentialsManagerResult</a></span><span class="o">&lt;</span><span class="kt"><a href="../Classes/Credentials.html">Credentials</a></span><span class="o">&gt;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>scope</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Space-separated list of scope values to request when renewing credentials. Defaults to <code>nil</code>, which will ask for the same scopes that were requested on login.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>minTTL</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Minimum time in seconds the access token must remain valid to avoid being renewed. Defaults to <code>0</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>parameters</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Additional parameters to use when renewing credentials.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>headers</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Additional headers to use when renewing credentials.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>callback</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Callback that receives a <code>Result</code> containing either the user&rsquo;s credentials or an error.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/credentials(withScope:minTTL:parameters:headers:callback:)" class="dashAnchor"></a>
                    <a class="token" href="#/">credentials(withScope:<wbr>minTTL:<wbr>parameters:<wbr>headers:<wbr>callback:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/enableBiometrics(withTitle:cancelTitle:fallbackTitle:evaluationPolicy:)" class="dashAnchor"></a>
                    <a class="token" href="#/">enableBiometrics(withTitle:<wbr>cancelTitle:<wbr>fallbackTitle:<wbr>evaluationPolicy:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Enables biometric authentication for additional security during credentials retrieval.</p>
<pre class="highlight swift"><code><span class="n">credentialsManager</span><span class="o">.</span><span class="nf">enableBiometrics</span><span class="p">(</span><span class="nv">withTitle</span><span class="p">:</span> <span class="s">"Touch to Login"</span><span class="p">)</span>
</code></pre>

<p>If needed, you can specify a particular <code>LAPolicy</code> to be used. For example, you might want to support Face ID or
Touch ID, but also allow fallback to passcode.</p>
<pre class="highlight swift"><code><span class="n">credentialsManager</span><span class="o">.</span><span class="nf">enableBiometrics</span><span class="p">(</span><span class="nv">withTitle</span><span class="p">:</span> <span class="s">"Touch or enter passcode to Login"</span><span class="p">,</span> 
                                    <span class="nv">evaluationPolicy</span><span class="p">:</span> <span class="o">.</span><span class="n">deviceOwnerAuthentication</span><span class="p">)</span>
</code></pre>
<div class="aside aside-important">
    <p class="aside-title">Important</p>
    Access to the <code><a href="../Structs/CredentialsManager.html#/s:5Auth018CredentialsManagerV4userAA8UserInfoVSgvp">user</a></code> property will not be protected by biometric authentication.

</div>

                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Combine"></a>
                <a name="//apple_ref/swift/Section/Combine" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Combine"></a>
                  <h3 class="section-name"><span>Combine</span>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Auth018CredentialsManagerV6revoke7headers7Combine12AnyPublisherVyytAA0bC5ErrorVGSDyS2SG_tF"></a>
                    <a name="//apple_ref/swift/Method/revoke(headers:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Auth018CredentialsManagerV6revoke7headers7Combine12AnyPublisherVyytAA0bC5ErrorVGSDyS2SG_tF">revoke(headers:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Calls the <code>/oauth/revoke</code> endpoint to revoke the refresh token and then clears the credentials if the request
was successful. Otherwise, the credentials are not cleared and the subscription completes with an error.</p>
<pre class="highlight swift"><code><span class="n">credentialsManager</span>
    <span class="o">.</span><span class="nf">revoke</span><span class="p">()</span>
    <span class="o">.</span><span class="nf">sink</span><span class="p">(</span><span class="nv">receiveCompletion</span><span class="p">:</span> <span class="p">{</span> <span class="n">completion</span> <span class="k">in</span>
        <span class="k">switch</span> <span class="n">completion</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">finished</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Revoked refresh token and cleared credentials"</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Failed with: </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">},</span> <span class="nv">receiveValue</span><span class="p">:</span> <span class="p">{})</span>
    <span class="o">.</span><span class="nf">store</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">cancellables</span><span class="p">)</span>
</code></pre>

<p>If you need to specify custom headers for the refresh token revocation:</p>
<pre class="highlight swift"><code><span class="n">credentialsManager</span>
    <span class="o">.</span><span class="nf">revoke</span><span class="p">(</span><span class="nv">headers</span><span class="p">:</span> <span class="p">[</span><span class="s">"key"</span><span class="p">:</span> <span class="s">"value"</span><span class="p">])</span>
    <span class="o">.</span><span class="nf">sink</span><span class="p">(</span><span class="nv">receiveCompletion</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">},</span>
          <span class="nv">receiveValue</span><span class="p">:</span> <span class="p">{})</span>
    <span class="o">.</span><span class="nf">store</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">cancellables</span><span class="p">)</span>
</code></pre>

<p>If no refresh token is available the endpoint is not called, the credentials are cleared, and the subscription
completes without an error.</p>
<div class="aside aside-see">
    <p class="aside-title">See</p>
    <a href="https://auth0.com/docs/secure/tokens/refresh-tokens">Refresh tokens</a>

</div><div class="aside aside-see">
    <p class="aside-title">See</p>
    <a href="https://auth0.com/docs/api/authentication#revoke-refresh-token">Authentication API Endpoint</a>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">revoke</span><span class="p">(</span><span class="nv">headers</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">String</span><span class="p">]</span> <span class="o">=</span> <span class="p">[:])</span> <span class="o">-&gt;</span> <span class="kt">AnyPublisher</span><span class="o">&lt;</span><span class="kt">Void</span><span class="p">,</span> <span class="kt"><a href="../Structs/CredentialsManagerError.html">CredentialsManagerError</a></span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>headers</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Additional headers to use when revoking the refresh token.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A type-erased publisher.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Auth018CredentialsManagerV11credentials9withScope6minTTL10parameters7headers7Combine12AnyPublisherVyAA0B0CAA0bC5ErrorVGSSSg_SiSDySSypGSDyS2SGtF"></a>
                    <a name="//apple_ref/swift/Method/credentials(withScope:minTTL:parameters:headers:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Auth018CredentialsManagerV11credentials9withScope6minTTL10parameters7headers7Combine12AnyPublisherVyAA0B0CAA0bC5ErrorVGSSSg_SiSDySSypGSDyS2SGtF">credentials(withScope:<wbr>minTTL:<wbr>parameters:<wbr>headers:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Retrieves credentials from the Keychain and yields new credentials using the refresh token if the access token
is expired. Otherwise, the subscription will complete with the retrieved credentials as they are not expired.
Renewed credentials will be stored in the Keychain.</p>
<pre class="highlight swift"><code><span class="n">credentialsManager</span>
    <span class="o">.</span><span class="nf">credentials</span><span class="p">()</span>
    <span class="o">.</span><span class="nf">sink</span><span class="p">(</span><span class="nv">receiveCompletion</span><span class="p">:</span> <span class="p">{</span> <span class="n">completion</span> <span class="k">in</span>
        <span class="k">if</span> <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">)</span> <span class="o">=</span> <span class="n">completion</span> <span class="p">{</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Failed with: </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">},</span> <span class="nv">receiveValue</span><span class="p">:</span> <span class="p">{</span> <span class="n">credentials</span> <span class="k">in</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Obtained credentials: </span><span class="se">\(</span><span class="n">credentials</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="p">})</span>
    <span class="o">.</span><span class="nf">store</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">cancellables</span><span class="p">)</span>
</code></pre>

<p>To avoid retrieving access tokens with too little time left, you can enforce a minimum TTL:</p>
<pre class="highlight swift"><code><span class="n">credentialsManager</span>
    <span class="o">.</span><span class="nf">credentials</span><span class="p">(</span><span class="nv">minTTL</span><span class="p">:</span> <span class="mi">60</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">sink</span><span class="p">(</span><span class="nv">receiveCompletion</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">},</span>
          <span class="nv">receiveValue</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
    <span class="o">.</span><span class="nf">store</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">cancellables</span><span class="p">)</span>
</code></pre>

<p>If you need to specify custom parameters or headers for the credentials renewal:</p>
<pre class="highlight swift"><code><span class="n">credentialsManager</span>
    <span class="o">.</span><span class="nf">credentials</span><span class="p">(</span><span class="nv">parameters</span><span class="p">:</span> <span class="p">[</span><span class="s">"key"</span><span class="p">:</span> <span class="s">"value"</span><span class="p">],</span>
                 <span class="nv">headers</span><span class="p">:</span> <span class="p">[</span><span class="s">"key"</span><span class="p">:</span> <span class="s">"value"</span><span class="p">])</span>
    <span class="o">.</span><span class="nf">sink</span><span class="p">(</span><span class="nv">receiveCompletion</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">},</span>
          <span class="nv">receiveValue</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
    <span class="o">.</span><span class="nf">store</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">cancellables</span><span class="p">)</span>
</code></pre>

<p>When renewing credentials you can get a downscoped access token by requesting fewer scopes than were requested
on login. If you specify fewer scopes, the credentials will be renewed immediately, regardless of whether they
are expired or not.</p>
<pre class="highlight swift"><code><span class="n">credentialsManager</span>
    <span class="o">.</span><span class="nf">credentials</span><span class="p">(</span><span class="nv">scope</span><span class="p">:</span> <span class="s">"openid offline_access"</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">sink</span><span class="p">(</span><span class="nv">receiveCompletion</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">},</span>
          <span class="nv">receiveValue</span><span class="p">:</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="nv">$0</span><span class="p">)</span> <span class="p">})</span>
    <span class="o">.</span><span class="nf">store</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">cancellables</span><span class="p">)</span>
</code></pre>
<div class="aside aside-requires">
    <p class="aside-title">Requires</p>
    The scope <code>offline_access</code> to have been requested on login to get a refresh token from Auth0. If the credentials are expired and there is no refresh token, the subscription will complete with a <code><a href="../Structs/CredentialsManagerError.html#/s:5Auth023CredentialsManagerErrorV14noRefreshTokenACvpZ">noRefreshToken</a></code> error.

</div><div class="aside aside-note">
    <p class="aside-title">Note</p>
    This method is thread-safe.

</div><div class="aside aside-see">
    <p class="aside-title">See</p>
    <a href="https://auth0.com/docs/secure/tokens/refresh-tokens">Refresh tokens</a>

</div><div class="aside aside-see">
    <p class="aside-title">See</p>
    <a href="https://auth0.com/docs/api/authentication#refresh-token">Authentication API Endpoint</a>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">credentials</span><span class="p">(</span><span class="n">withScope</span> <span class="nv">scope</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">minTTL</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">parameters</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[:],</span> <span class="nv">headers</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">String</span><span class="p">]</span> <span class="o">=</span> <span class="p">[:])</span> <span class="o">-&gt;</span> <span class="kt">AnyPublisher</span><span class="o">&lt;</span><span class="kt"><a href="../Classes/Credentials.html">Credentials</a></span><span class="p">,</span> <span class="kt"><a href="../Structs/CredentialsManagerError.html">CredentialsManagerError</a></span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>scope</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Space-separated list of scope values to request when renewing credentials. Defaults to <code>nil</code>, which will ask for the same scopes that were requested on login.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>minTTL</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Minimum time in seconds the access token must remain valid to avoid being renewed. Defaults to <code>0</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>parameters</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Additional parameters to use when renewing credentials.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>headers</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Additional headers to use when renewing credentials.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>A type-erased publisher.</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Async%2FAwait"></a>
                <a name="//apple_ref/swift/Section/Async/Await" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Async%2FAwait"></a>
                  <h3 class="section-name"><span>Async/Await</span>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Auth018CredentialsManagerV6revoke7headersySDyS2SG_tYaKF"></a>
                    <a name="//apple_ref/swift/Method/revoke(headers:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Auth018CredentialsManagerV6revoke7headersySDyS2SG_tYaKF">revoke(headers:<wbr>)</a>
                    </code>
                      <span class="declaration-note">
                        Asynchronous
                      </span>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">revoke</span><span class="p">(</span><span class="nv">headers</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">String</span><span class="p">]</span> <span class="o">=</span> <span class="p">[:])</span> <span class="n">async</span> <span class="k">throws</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:5Auth018CredentialsManagerV11credentials9withScope6minTTL10parameters7headersAA0B0CSSSg_SiSDySSypGSDyS2SGtYaKF"></a>
                    <a name="//apple_ref/swift/Method/credentials(withScope:minTTL:parameters:headers:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:5Auth018CredentialsManagerV11credentials9withScope6minTTL10parameters7headersAA0B0CSSSg_SiSDySSypGSDyS2SGtYaKF">credentials(withScope:<wbr>minTTL:<wbr>parameters:<wbr>headers:<wbr>)</a>
                    </code>
                      <span class="declaration-note">
                        Asynchronous
                      </span>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">credentials</span><span class="p">(</span><span class="n">withScope</span> <span class="nv">scope</span><span class="p">:</span> <span class="kt">String</span><span class="p">?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">minTTL</span><span class="p">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">parameters</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">[:],</span> <span class="nv">headers</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span> <span class="p">:</span> <span class="kt">String</span><span class="p">]</span> <span class="o">=</span> <span class="p">[:])</span> <span class="n">async</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Classes/Credentials.html">Credentials</a></span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>&copy; 2022 <a class="link" href="https://auth0.com" target="_blank" rel="external noopener">Auth0</a>. All rights reserved. (Last updated: 2022-07-14)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.2</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
    </section>
  </body>
</html>
