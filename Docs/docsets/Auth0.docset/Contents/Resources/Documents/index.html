<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Auth0  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset="utf-8">
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>


    <a title="Auth0  Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="index.html">
          Auth0 2.0.0-beta Docs
        </a>
         (92% documented)
      </p>
    
      <div class="header-col--secondary">
        <form role="search" action="search.json">
          <input type="text" placeholder="Search documentation" data-typeahead>
        </form>
      </div>
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/auth0/Auth0.swift">
            <img class="header-icon" src="img/gh.png" alt="GitHub"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="index.html">Auth0 Reference</a>
      <img class="carat" src="img/carat.png" alt=""/>
      Auth0  Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/Credentials.html">Credentials</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Classes/UserPatchAttributes.html">UserPatchAttributes</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Global%20Variables.html">Global Variables</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Global%20Variables.html#/s:5Auth012defaultScopeSSvp">defaultScope</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Enums/PasswordlessType.html">PasswordlessType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/A0SimpleKeychain.html">A0SimpleKeychain</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/Data.html">Data</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Extensions/String.html">String</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:5Auth014authentication8clientId6domain7sessionAA14Authentication_pSS_SSSo12NSURLSessionCtF">authentication(clientId:domain:session:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:5Auth014authentication7session6bundleAA14Authentication_pSo12NSURLSessionC_So8NSBundleCtF">authentication(session:bundle:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:5Auth05users5token6domain7sessionAA5Users_pSS_SSSo12NSURLSessionCtF">users(token:domain:session:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:5Auth05users5token7session6bundleAA5Users_pSS_So12NSURLSessionCSo8NSBundleCtF">users(token:session:bundle:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/webAuth(clientId:domain:session:)">webAuth(clientId:domain:session:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:5Auth07webAuth8clientId6domain7sessionAA03WebC0_pSS_SSSo12NSURLSessionCtF">webAuth(clientId:domain:session:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/webAuth(session:bundle:)">webAuth(session:bundle:)</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Functions.html#/s:5Auth07webAuth7session6bundleAA03WebC0_pSo12NSURLSessionC_So8NSBundleCtF">webAuth(session:bundle:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Auth0APIError.html">Auth0APIError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Auth0Error.html">Auth0Error</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Authentication.html">Authentication</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/CredentialsStorage.html">CredentialsStorage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Loggable.html">Loggable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Logger.html">Logger</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Trackable.html">Trackable</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/Users.html">Users</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Protocols/WebAuth.html">WebAuth</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/AuthenticationError.html">AuthenticationError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Challenge.html">Challenge</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Challenge/CodingKeys.html">– CodingKeys</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/CredentialsManager.html">CredentialsManager</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/CredentialsManagerError.html">CredentialsManagerError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/JWK.html">JWK</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/JWKS.html">JWKS</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/ManagementError.html">ManagementError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Request.html">Request</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/Telemetry.html">Telemetry</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/UserInfo.html">UserInfo</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Structs/WebAuthError.html">WebAuthError</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="Typealiases.html">Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Auth020AuthenticationResulta">AuthenticationResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Auth024CredentialsManagerResulta">CredentialsManagerResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Auth012DatabaseUsera">DatabaseUser</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Auth016ManagementObjecta">ManagementObject</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Auth016ManagementResulta">ManagementResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/WebAuthResult">WebAuthResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="Typealiases.html#/s:5Auth013WebAuthResulta">WebAuthResult</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            
            <h1 id='auth0-swift-beta' class='heading'>Auth0.swift Beta</h1>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>This library is currently in <strong>Beta</strong> and has not had a complete security review. We do not recommend using this library in production yet. As we move towards general availability, please be aware that releases may contain breaking changes.</p>

</div>

<p><a href="https://circleci.com/gh/auth0/Auth0.swift/tree/beta"><img src="https://img.shields.io/circleci/project/github/auth0/Auth0.swift.svg?style=flat-square" alt="CircleCI"></a>
<a href="https://codecov.io/github/auth0/Auth0.swift"><img src="https://img.shields.io/codecov/c/github/auth0/Auth0.swift/beta.svg?style=flat-square" alt="Coverage Status"></a>
<a href="https://cocoadocs.org/docsets/Auth0"><img src="https://img.shields.io/cocoapods/v/Auth0.svg?style=flat-square" alt="Version"></a>
<a href="https://cocoadocs.org/docsets/Auth0"><img src="https://img.shields.io/cocoapods/l/Auth0.svg?style=flat-square" alt="License"></a>
<a href="https://cocoadocs.org/docsets/Auth0"><img src="https://img.shields.io/cocoapods/p/Auth0.svg?style=flat-square" alt="Platform"></a>
<img src="https://img.shields.io/badge/Swift-5.5-orange.svg?style=flat-square" alt="Swift 5.5"></p>

<p>Swift SDK that lets you communicate efficiently with many of the <a href="https://auth0.com/docs/api">Auth0 API</a> functions and enables you to seamlessly integrate the Auth0 login.</p>
<h2 id='table-of-contents' class='heading'>Table of Contents</h2>

<ul>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#getting-started">Getting Started</a></li>
<li><a href="#next-steps">Next Steps</a></li>
<li><a href="#what-is-auth0">What is Auth0?</a></li>
<li><a href="#create-a-free-auth0-account">Create a Free Auth0 Account</a></li>
<li><a href="#issue-reporting">Issue Reporting</a></li>
<li><a href="#author">Author</a></li>
<li><a href="#license">License</a></li>
</ul>
<h2 id='requirements' class='heading'>Requirements</h2>

<ul>
<li>iOS 12+ / macOS 10.15+ / tvOS 12.0+ / watchOS 6.2+</li>
<li>Xcode 12.x / 13.x</li>
<li>Swift 5.3+</li>
</ul>
<h2 id='installation' class='heading'>Installation</h2>
<h4 id='spm' class='heading'>SPM</h4>

<p>If you are using the Swift Package Manager, open the following menu item in Xcode:</p>

<p><strong>File &gt; Add Packages&hellip;</strong></p>

<p>In the <strong>Search or Enter Package URL</strong> search box enter this url: </p>
<pre class="highlight plaintext"><code>https://github.com/auth0/Auth0.swift.git
</code></pre>

<p>Then select the <strong>Exact Version</strong> dependency rule, input <code>2.0.0-beta.0</code> as the version number and press <strong>Add Package</strong>.</p>

<blockquote>
<p>For further reference on SPM, check <a href="https://developer.apple.com/documentation/swift_packages/adding_package_dependencies_to_your_app">its official documentation</a>.</p>
</blockquote>
<h4 id='cocoapods' class='heading'>Cocoapods</h4>

<p>If you are using <a href="https://cocoapods.org">Cocoapods</a>, add this line to your <code>Podfile</code>:</p>
<pre class="highlight ruby"><code><span class="n">pod</span> <span class="s1">'Auth0'</span><span class="p">,</span> <span class="s1">'2.0.0-beta.0'</span>
</code></pre>

<p>Then run <code>pod install</code>.</p>

<blockquote>
<p>For more information on Cocoapods, check <a href="https://guides.cocoapods.org/using/getting-started.html">their official documentation</a>.</p>
</blockquote>
<h4 id='carthage' class='heading'>Carthage</h4>

<p>If you are using <a href="https://github.com/Carthage/Carthage">Carthage</a>, add the following line to your <code>Cartfile</code>:</p>
<pre class="highlight plaintext"><code>github "auth0/Auth0.swift" "2.0.0-beta.0"
</code></pre>

<p>Then run <code>carthage bootstrap --use-xcframeworks</code>.</p>

<blockquote>
<p>For more information about Carthage usage, check <a href="https://github.com/Carthage/Carthage#if-youre-building-for-ios-tvos-or-watchos">their official documentation</a>.</p>
</blockquote>
<h2 id='getting-started' class='heading'>Getting Started</h2>
<h3 id='configuration' class='heading'>Configuration</h3>

<p>In order to use Auth0 you need to set up Auth0.swift with your <strong>Client ID</strong> and <strong>Domain</strong>. For Web Auth, you&rsquo;ll also need to configure the Callback URLs in the Auth0 Dashboard.</p>

<blockquote>
<p>The Auth0 Client ID &amp; Domain can be found in your <a href="https://manage.auth0.com/#/applications/">Auth0 Dashboard</a>.</p>
</blockquote>
<h4 id='configure-client-id-and-domain-with-a-plist' class='heading'>Configure Client ID and Domain with a plist</h4>

<p>In your application bundle add a <code>plist</code> file named <code>Auth0.plist</code> with the following content:</p>
<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="cp">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span>
<span class="nt">&lt;plist</span> <span class="na">version=</span><span class="s">"1.0"</span><span class="nt">&gt;</span>
<span class="nt">&lt;dict&gt;</span>
  <span class="nt">&lt;key&gt;</span>ClientId<span class="nt">&lt;/key&gt;</span>
  <span class="nt">&lt;string&gt;</span>YOUR_AUTH0_CLIENT_ID<span class="nt">&lt;/string&gt;</span>
  <span class="nt">&lt;key&gt;</span>Domain<span class="nt">&lt;/key&gt;</span>
  <span class="nt">&lt;string&gt;</span>YOUR_AUTH0_DOMAIN<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/plist&gt;</span>
</code></pre>
<h4 id='configure-client-id-and-domain-programmatically' class='heading'>Configure Client ID and Domain programmatically</h4>

<p>For Web Auth:</p>
<pre class="highlight swift"><code><span class="kt">Auth0</span>
    <span class="o">.</span><span class="nf">webAuth</span><span class="p">(</span><span class="nv">clientId</span><span class="p">:</span> <span class="s">"YOUR_AUTH0_CLIENT_ID"</span><span class="p">,</span> <span class="nv">domain</span><span class="p">:</span> <span class="s">"YOUR_AUTH0_DOMAIN"</span><span class="p">)</span>
    <span class="c1">// ...</span>
</code></pre>

<p>For the Authentication API client:</p>
<pre class="highlight swift"><code><span class="kt">Auth0</span>
    <span class="o">.</span><span class="nf">authentication</span><span class="p">(</span><span class="nv">clientId</span><span class="p">:</span> <span class="s">"YOUR_AUTH0_CLIENT_ID"</span><span class="p">,</span> <span class="nv">domain</span><span class="p">:</span> <span class="s">"YOUR_AUTH0_DOMAIN"</span><span class="p">)</span>
    <span class="c1">// ...</span>
</code></pre>
<h4 id='configure-callback-urls-ios-macos' class='heading'>Configure Callback URLs (iOS / macOS)</h4>

<p>Callback URLs are the URLs that Auth0 invokes after the authentication process. Auth0 routes your application back to this URL and appends additional parameters to it, including a token. Since callback URLs can be manipulated, you will need to add your callback URL to the <strong>Allowed Callback URLs</strong> field in the <a href="https://manage.auth0.com/#/applications/">Auth0 Dashboard</a>. This will enable Auth0 to recognize these URLs as valid. If omitted, the authentication will not be successful.</p>

<p>In your application&rsquo;s <code>Info.plist</code> file, register your iOS / macOS Bundle Identifier as a custom scheme.</p>
<pre class="highlight xml"><code><span class="nt">&lt;key&gt;</span>CFBundleURLTypes<span class="nt">&lt;/key&gt;</span>
<span class="nt">&lt;array&gt;</span>
    <span class="nt">&lt;dict&gt;</span>
        <span class="nt">&lt;key&gt;</span>CFBundleTypeRole<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;string&gt;</span>None<span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;key&gt;</span>CFBundleURLName<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;string&gt;</span>auth0<span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;key&gt;</span>CFBundleURLSchemes<span class="nt">&lt;/key&gt;</span>
        <span class="nt">&lt;array&gt;</span>
            <span class="nt">&lt;string&gt;</span>YOUR_BUNDLE_IDENTIFIER<span class="nt">&lt;/string&gt;</span>
        <span class="nt">&lt;/array&gt;</span>
    <span class="nt">&lt;/dict&gt;</span>
<span class="nt">&lt;/array&gt;</span>
</code></pre>

<blockquote>
<p>If your <code>Info.plist</code> is not shown in this format, you can <strong>Right Click</strong> on <code>Info.plist</code> in Xcode and then select <strong>Open As / Source Code</strong>.</p>
</blockquote>

<p>Finally, go to your <a href="https://manage.auth0.com/#/applications/">Auth0 Dashboard</a> and make sure that your application&rsquo;s <strong>Allowed Callback URLs</strong> field contains the following entry:</p>
<pre class="highlight plaintext"><code>YOUR_BUNDLE_IDENTIFIER://YOUR_AUTH0_DOMAIN/ios/YOUR_BUNDLE_IDENTIFIER/callback
</code></pre>

<p>e.g. If your bundle identifier was <code>com.company.myapp</code> and your Auth0 domain was <code>company.auth0.com</code>, then this value would be:</p>
<pre class="highlight plaintext"><code>com.company.myapp://company.auth0.com/ios/com.company.myapp/callback
</code></pre>
<h3 id='login-with-universal-login-ios-macos' class='heading'>Login with Universal Login (iOS / macOS)</h3>

<ol>
<li><p>Import <strong>Auth0</strong> into your project.        </p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">Auth0</span>
</code></pre></li>
<li><p>Present the Universal Login page in the action of your <strong>Login</strong> button.</p>
<pre class="highlight swift"><code><span class="kt">Auth0</span>
<span class="o">.</span><span class="nf">webAuth</span><span class="p">()</span>
<span class="o">.</span><span class="n">start</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="k">let</span> <span class="nv">credentials</span><span class="p">):</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Obtained credentials: </span><span class="se">\(</span><span class="n">credentials</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Failed with </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></li>
</ol>

<details>
  <summary>Using Combine</summary>

&ldquo;`swift
Auth0
    .webAuth()
    .publisher()
    .sink(receiveCompletion: { completion in
        if case .failure(let error) = completion {
            print(&quot;Failed with \(error)&rdquo;)
        }
    }, receiveValue: { credentials in
        print(&ldquo;Obtained credentials: \(credentials)&rdquo;)
    })
    .store(in: &cancellables)
&ldquo;`
</details>

<details>
  <summary>Using Async/Await</summary>

&rdquo;`swift
do {
    let credentials = try await Auth0
        .webAuth()
        .start()
    print(&ldquo;Obtained credentials: \(credentials)&rdquo;)
} catch {
    print(&ldquo;Failed with \(error)&rdquo;)
}
&ldquo;`
</details>
<h3 id='logout-with-universal-login-ios-macos' class='heading'>Logout with Universal Login (iOS / macOS)</h3>

<p>To clear the Universal Login session, call the <code>clearSession()</code> method in the action of your <strong>Logout</strong> button.</p>
<pre class="highlight swift"><code><span class="kt">Auth0</span>
    <span class="o">.</span><span class="nf">webAuth</span><span class="p">()</span>
    <span class="o">.</span><span class="n">clearSession</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
        <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">success</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Logged out"</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Failed with </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="p">}</span>
</code></pre>

<details>
  <summary>Using Combine</summary>

&rdquo;`swift
Auth0
    .webAuth()
    .clearSession()
    .sink(receiveCompletion: { completion in
        switch completion {
        case .failure(let error):
            print(&ldquo;Failed with \(error)&rdquo;)
        case .finished:
            print(&ldquo;Logged out&rdquo;)
        }
    }, receiveValue: { _ in })
    .store(in: &cancellables)
&ldquo;`
</details>

<details>
  <summary>Using Async/Await</summary>

&rdquo;`swift
do {
    try await Auth0
        .webAuth()
        .clearSession()
    print(&ldquo;Logged out&rdquo;)
} catch {
    print(&ldquo;Failed with \(error)&rdquo;)
}
&ldquo;`
</details>
<h2 id='next-steps' class='heading'>Next Steps</h2>
<h3 id='learning-resources' class='heading'>Learning Resources</h3>

<p>Check out the <a href="https://auth0.com/docs/quickstart/native/ios-swift">iOS Swift QuickStart Guide</a> to find out more about the Auth0.swift SDK and explore our tutorials and sample projects.</p>
<h3 id='common-tasks' class='heading'>Common Tasks</h3>
<h4 id='retrieve-user-information' class='heading'>Retrieve user information</h4>
<pre class="highlight swift"><code><span class="kt">Auth0</span>
   <span class="o">.</span><span class="nf">authentication</span><span class="p">()</span>
   <span class="o">.</span><span class="nf">userInfo</span><span class="p">(</span><span class="nv">withAccessToken</span><span class="p">:</span> <span class="n">accessToken</span><span class="p">)</span>
   <span class="o">.</span><span class="n">start</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
       <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
       <span class="k">case</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="k">let</span> <span class="nv">user</span><span class="p">):</span>
           <span class="nf">print</span><span class="p">(</span><span class="s">"User: </span><span class="se">\(</span><span class="n">user</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
       <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
           <span class="nf">print</span><span class="p">(</span><span class="s">"Failed with </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
       <span class="p">}</span>
   <span class="p">}</span>
</code></pre>

<details>
  <summary>Using Combine</summary>

&rdquo;`swift
Auth0
   .authentication()
   .userInfo(withAccessToken: accessToken)
   .publisher()
   .sink(receiveCompletion: { completion in
        if case .failure(let error) = completion {
            print(&ldquo;Failed with \(error)&rdquo;)
        }
    }, receiveValue: { user in
        print(&ldquo;User: \(user)&rdquo;)
    })
    .store(in: &cancellables)
&ldquo;`
</details>

<details>
  <summary>Using Async/Await</summary>

&rdquo;`swift
do {
    let user = try await Auth0
        .authentication()
        .userInfo(withAccessToken: accessToken)
        .start()
    print(&ldquo;User: \(user)&rdquo;)
} catch {
    print(&ldquo;Failed with \(error)&rdquo;)
}
&ldquo;`
</details>
<h4 id='renew-user-credentials' class='heading'>Renew user credentials</h4>

<p>Use a <a href="https://auth0.com/docs/security/tokens/refresh-tokens">Refresh Token</a> to renew the user&rsquo;s credentials. It&rsquo;s recommended that you read and understand the Refresh Token process before implementing.</p>
<pre class="highlight swift"><code><span class="kt">Auth0</span>
    <span class="o">.</span><span class="nf">authentication</span><span class="p">()</span>
    <span class="o">.</span><span class="nf">renew</span><span class="p">(</span><span class="nv">withRefreshToken</span><span class="p">:</span> <span class="n">refreshToken</span><span class="p">)</span>
    <span class="o">.</span><span class="n">start</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
        <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="k">let</span> <span class="nv">credentials</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Obtained new credentials: </span><span class="se">\(</span><span class="n">credentials</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Failed with </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre>

<details>
  <summary>Using Combine</summary>

&rdquo;`swift
Auth0
   .authentication()
   .renew(withRefreshToken: refreshToken)
   .publisher()
   .sink(receiveCompletion: { completion in
        if case .failure(let error) = completion {
            print(&ldquo;Failed with \(error)&rdquo;)
        }
    }, receiveValue: { credentials in
        print(&ldquo;Obtained new credentials: \(credentials)&rdquo;)
    })
    .store(in: &cancellables)
&ldquo;`
</details>

<details>
  <summary>Using Async/Await</summary>

&rdquo;`swift
do {
    let credentials = try await Auth0
        .authentication()
        .renew(withRefreshToken: refreshToken)
        .start()
    print(&ldquo;Obtained new credentials: \(credentials)&rdquo;)
} catch {
    print(&ldquo;Failed with \(error)&rdquo;)
}
&ldquo;`
</details>
<h4 id='signup-with-universal-login' class='heading'>Signup with Universal Login</h4>

<p>You can make users land directly on the Signup page instead of the Login page by specifying the <code>&quot;screen_hint&quot;: &quot;signup&quot;</code> parameter when performing Web Authentication. Note that this can be combined with <code>&quot;prompt&quot;: &quot;login&quot;</code>, which indicates whether you want to always show the authentication page or you want to skip if there&rsquo;s an existing session.</p>

<table><thead>
<tr>
<th style="text-align: left">Parameters</th>
<th style="text-align: left">No existing session</th>
<th style="text-align: left">Existing session</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">No extra parameters</td>
<td style="text-align: left">Shows the login page</td>
<td style="text-align: left">Redirects to the callback url</td>
</tr>
<tr>
<td style="text-align: left"><code>&quot;screen_hint&quot;: &quot;signup&quot;</code></td>
<td style="text-align: left">Shows the signup page</td>
<td style="text-align: left">Redirects to the callback url</td>
</tr>
<tr>
<td style="text-align: left"><code>&quot;prompt&quot;: &quot;login&quot;</code></td>
<td style="text-align: left">Shows the login page</td>
<td style="text-align: left">Shows the login page</td>
</tr>
<tr>
<td style="text-align: left"><code>&quot;prompt&quot;: &quot;login&quot;, &quot;screen_hint&quot;: &quot;signup&quot;</code></td>
<td style="text-align: left">Shows the signup page</td>
<td style="text-align: left">Shows the signup page</td>
</tr>
</tbody></table>
<pre class="highlight swift"><code><span class="kt">Auth0</span>
    <span class="o">.</span><span class="nf">webAuth</span><span class="p">()</span>
    <span class="o">.</span><span class="nf">parameters</span><span class="p">([</span><span class="s">"screen_hint"</span><span class="p">:</span> <span class="s">"signup"</span><span class="p">])</span>
    <span class="o">.</span><span class="n">start</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
        <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="k">let</span> <span class="nv">credentials</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Obtained credentials: </span><span class="se">\(</span><span class="n">credentials</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Failed with </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre>

<blockquote>
<p>The <code>screen_hint</code> parameter can only be used with the <strong>New Universal Login Experience</strong>, not the <strong>Classic Experience</strong>.</p>
</blockquote>

<details>
  <summary>Using Combine</summary>

&rdquo;`swift
Auth0
    .webAuth()
    .parameters([&ldquo;screen_hint&rdquo;: &ldquo;signup&rdquo;])
    .publisher()
    .sink(receiveCompletion: { completion in
        if case .failure(let error) = completion {
            print(&ldquo;Failed with \(error)&rdquo;)
        }
    }, receiveValue: { credentials in
        print(&ldquo;Obtained credentials: \(credentials)&rdquo;)
    })
    .store(in: &cancellables)
&ldquo;`
</details>

<details>
  <summary>Using Async/Await</summary>

&rdquo;`swift
do {
    let credentials = try await Auth0
        .webAuth()
        .parameters([&ldquo;screen_hint&rdquo;: &ldquo;signup&rdquo;])
        .start()
    print(&ldquo;Obtained credentials: \(credentials)&rdquo;)
} catch {
    print(&ldquo;Failed with \(error)&rdquo;)
}
&ldquo;`
</details>
<h3 id='credentials-management-utility' class='heading'>Credentials Management Utility</h3>

<p>The credentials manager utility provides a convenience to securely store and retrieve the user&rsquo;s credentials from the Keychain.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">credentialsManager</span> <span class="o">=</span> <span class="kt">CredentialsManager</span><span class="p">(</span><span class="nv">authentication</span><span class="p">:</span> <span class="kt">Auth0</span><span class="o">.</span><span class="nf">authentication</span><span class="p">())</span>
</code></pre>
<h4 id='store-credentials' class='heading'>Store Credentials</h4>

<p>Store user credentials securely in the Keychain.</p>
<pre class="highlight swift"><code><span class="n">credentialsManager</span><span class="o">.</span><span class="nf">store</span><span class="p">(</span><span class="nv">credentials</span><span class="p">:</span> <span class="n">credentials</span><span class="p">)</span>
</code></pre>
<h4 id='retrieve-stored-credentials' class='heading'>Retrieve stored credentials</h4>

<p>Credentials will automatically be renewed (if expired) using the Refresh Token. The scope <code>offline_access</code> is required to ensure the Refresh Token is returned.</p>

<blockquote>
<p>This method is thread-safe.</p>
</blockquote>
<pre class="highlight swift"><code><span class="n">credentialsManager</span><span class="o">.</span><span class="n">credentials</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span> 
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="k">let</span> <span class="nv">credentials</span><span class="p">):</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Obtained credentials: </span><span class="se">\(</span><span class="n">credentials</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
    <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Failed with </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span> 
<span class="p">}</span>
</code></pre>

<details>
  <summary>Using Combine</summary>

&rdquo;`swift
credentialsManager
    .credentials()
    .sink(receiveCompletion: { completion in
        if case .failure(let error) = completion {
            print(&ldquo;Failed with \(error)&rdquo;)
        }
    }, receiveValue: { credentials in
        print(&ldquo;Obtained credentials: \(credentials)&rdquo;)
    })
    .store(in: &cancellables)
&ldquo;`
</details>

<details>
  <summary>Using Async/Await</summary>

&rdquo;`swift
do {
    let credentials = try await credentialsManager.credentials()
    print(&ldquo;Obtained credentials: \(credentials)&rdquo;)
} catch {
    print(&ldquo;Failed with \(error)&rdquo;)
}
&ldquo;`
</details>
<h4 id='clearing-credentials-and-revoking-refresh-tokens' class='heading'>Clearing credentials and revoking Refresh Tokens</h4>

<p>Credentials can be cleared by using the <code>clear</code> function, which clears credentials from the Keychain.</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">didClear</span> <span class="o">=</span> <span class="n">credentialsManager</span><span class="o">.</span><span class="nf">clear</span><span class="p">()</span>
</code></pre>

<p>In addition, credentials can be cleared and the Refresh Token revoked using a single call to <code>revoke</code>. This function will attempt to revoke the current Refresh Token stored by the credential manager and then clear credentials from the Keychain. If revoking the token results in an error, then the credentials are not cleared:</p>
<pre class="highlight swift"><code><span class="n">credentialsManager</span><span class="o">.</span><span class="n">revoke</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
    <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
    <span class="k">case</span> <span class="o">.</span><span class="nv">success</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Success"</span><span class="p">)</span>
    <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Failed with </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span> 
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<details>
  <summary>Using Combine</summary>

&rdquo;`swift
credentialsManager
    .revoke()
    .sink(receiveCompletion: { completion in
        if case .failure(let error) = completion {
            print(&ldquo;Failed with \(error)&rdquo;)
        }
        print(&ldquo;Success&rdquo;)
    }, receiveValue: { _ in })
    .store(in: &cancellables)
&ldquo;`
</details>

<details>
  <summary>Using Async/Await</summary>

&rdquo;`swift
do {
    try await credentialsManager.revoke()
    print(&ldquo;Success&rdquo;)
} catch {
    print(&ldquo;Failed with \(error)&rdquo;)
}
&ldquo;`
</details>
<h4 id='biometric-authentication' class='heading'>Biometric authentication</h4>

<p>You can enable an additional level of user authentication before retrieving credentials using the biometric authentication supported by your device e.g. Face ID or Touch ID.</p>
<pre class="highlight swift"><code><span class="n">credentialsManager</span><span class="o">.</span><span class="nf">enableBiometrics</span><span class="p">(</span><span class="nv">withTitle</span><span class="p">:</span> <span class="s">"Touch to Login"</span><span class="p">)</span>
</code></pre>

<p>If needed, you are able to specify specific <code>LAPolicy</code> to be used - e.g. you might want to support FaceID, but allow fallback to passcode.</p>
<pre class="highlight swift"><code><span class="n">credentialsManager</span><span class="o">.</span><span class="nf">enableBiometrics</span><span class="p">(</span><span class="nv">withTitle</span><span class="p">:</span> <span class="s">"Touch or enter passcode to Login"</span><span class="p">,</span> 
                                    <span class="nv">evaluationPolicy</span><span class="p">:</span> <span class="o">.</span><span class="n">deviceOwnerAuthentication</span><span class="p">)</span>
</code></pre>
<h3 id='native-social-login' class='heading'>Native Social Login</h3>
<h4 id='sign-in-with-apple' class='heading'>Sign in With Apple</h4>

<p>If you&rsquo;ve added <a href="https://developer.apple.com/documentation/authenticationservices/implementing_user_authentication_with_sign_in_with_apple">the Sign In with Apple flow</a> to your app, you can use the string value from the <code>authorizationCode</code> property obtained after a successful Apple authentication to perform a code exchange for Auth0 tokens.</p>
<pre class="highlight swift"><code><span class="kt">Auth0</span>
    <span class="o">.</span><span class="nf">authentication</span><span class="p">()</span>
    <span class="o">.</span><span class="nf">login</span><span class="p">(</span><span class="nv">appleAuthorizationCode</span><span class="p">:</span> <span class="n">authCode</span><span class="p">)</span>
    <span class="o">.</span><span class="n">start</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
        <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="k">let</span> <span class="nv">credentials</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Obtained credentials: </span><span class="se">\(</span><span class="n">credentials</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Failed with </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<details>
  <summary>Using Combine</summary>

&rdquo;`swift
Auth0
   .authentication()
   .login(appleAuthorizationCode: authCode)
   .publisher()
   .sink(receiveCompletion: { completion in
        if case .failure(let error) = completion {
            print(&ldquo;Failed with \(error)&rdquo;)
        }
    }, receiveValue: { credentials in
        print(&ldquo;Obtained credentials: \(credentials)&rdquo;)
    })
    .store(in: &cancellables)
&ldquo;`
</details>

<details>
  <summary>Using Async/Await</summary>

&rdquo;`swift
do {
    let credentials = try await Auth0
        .authentication()
        .login(appleAuthorizationCode: authCode)
        .start()
    print(&ldquo;Obtained credentials: \(credentials)&rdquo;)
} catch {
    print(&ldquo;Failed with \(error)&rdquo;)
}
&ldquo;`
</details>

<p>Find out more about <a href="https://auth0.com/docs/connections/social/apple-native">Setting up Sign in with Apple</a> with Auth0.</p>
<h4 id='facebook-login' class='heading'>Facebook Login</h4>

<p>If you&rsquo;ve added <a href="https://developers.facebook.com/docs/facebook-login/ios">the Facebook Login flow</a> to your app, after a successful Faceboook authentication you can request a Session Access Token and the Facebook user profile, and use them both to perform a code exchange for Auth0 tokens.</p>
<pre class="highlight swift"><code><span class="kt">Auth0</span>
    <span class="o">.</span><span class="nf">authentication</span><span class="p">()</span>
    <span class="o">.</span><span class="nf">login</span><span class="p">(</span><span class="nv">facebookSessionAccessToken</span><span class="p">:</span> <span class="n">sessionAccessToken</span><span class="p">,</span> <span class="nv">profile</span><span class="p">:</span> <span class="n">profile</span><span class="p">)</span>
    <span class="o">.</span><span class="n">start</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
        <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="k">let</span> <span class="nv">credentials</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Obtained credentials: </span><span class="se">\(</span><span class="n">credentials</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Failed with </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<details>
  <summary>Using Combine</summary>

&rdquo;`swift
Auth0
   .authentication()
   .login(facebookSessionAccessToken: sessionAccessToken, profile: profile)
   .publisher()
   .sink(receiveCompletion: { completion in
        if case .failure(let error) = completion {
            print(&ldquo;Failed with \(error)&rdquo;)
        }
    }, receiveValue: { credentials in
        print(&ldquo;Obtained credentials: \(credentials)&rdquo;)
    })
    .store(in: &cancellables)
&ldquo;`
</details>

<details>
  <summary>Using Async/Await</summary>

&rdquo;`swift
do {
    let credentials = try await Auth0
        .authentication()
        .login(facebookSessionAccessToken: sessionAccessToken, profile: profile)
        .start()
    print(&ldquo;Obtained credentials: \(credentials)&rdquo;)
} catch {
    print(&ldquo;Failed with \(error)&rdquo;)
}
&ldquo;`
</details>

<p>Find out more about <a href="https://auth0.com/docs/connections/social/facebook-native">Setting up Facebook Login</a> with Auth0.</p>
<h3 id='organizations' class='heading'>Organizations</h3>

<p><a href="https://auth0.com/docs/organizations">Organizations</a> is a set of features that provide better support for developers who build and maintain SaaS and Business-to-Business (B2B) applications. </p>

<p>Using Organizations, you can:</p>

<ul>
<li>Represent teams, business customers, partner companies, or any logical grouping of users that should have different ways of accessing your applications, as organizations.</li>
<li>Manage their membership in a variety of ways, including user invitation.</li>
<li>Configure branded, federated login flows for each organization.</li>
<li>Implement role-based access control, such that users can have different roles when authenticating in the context of different organizations.</li>
<li>Build administration capabilities into your products, using Organizations APIs, so that those businesses can manage their own organizations.</li>
</ul>

<p>Note that Organizations is currently only available to customers on our Enterprise and Startup subscription plans.</p>
<h4 id='log-in-to-an-organization' class='heading'>Log in to an organization</h4>
<pre class="highlight swift"><code><span class="kt">Auth0</span><span class="o">.</span><span class="nf">webAuth</span><span class="p">()</span>
    <span class="o">.</span><span class="nf">organization</span><span class="p">(</span><span class="n">organizationId</span><span class="p">)</span>
    <span class="o">.</span><span class="n">start</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
        <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="k">let</span> <span class="nv">credentials</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Obtained credentials: </span><span class="se">\(</span><span class="n">credentials</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Failed with </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre>

<details>
  <summary>Using Combine</summary>

&rdquo;`swift
Auth0
   .webAuth()
   .organization(organizationId)
   .publisher()
   .sink(receiveCompletion: { completion in
        if case .failure(let error) = completion {
            print(&ldquo;Failed with \(error)&rdquo;)
        }
    }, receiveValue: { credentials in
        print(&ldquo;Obtained credentials: \(credentials)&rdquo;)
    })
    .store(in: &cancellables)
&ldquo;`
</details>

<details>
  <summary>Using Async/Await</summary>

&rdquo;`swift
do {
    let credentials = try await Auth0
        .webAuth()
        .organization(organizationId)
        .start()
    print(&ldquo;Obtained credentials: \(credentials)&rdquo;)
} catch {
    print(&ldquo;Failed with \(error)&rdquo;)
}
&ldquo;`
</details>
<h4 id='accept-user-invitations' class='heading'>Accept user invitations</h4>

<p>To accept organization invitations your app needs to support <a href="https://developer.apple.com/documentation/xcode/allowing_apps_and_websites_to_link_to_your_content/supporting_universal_links_in_your_app">Universal Links</a>. Tapping on the invitation link should open your app (invitations links are <code>https</code> only).</p>

<p>When your app gets opened by an invitation link, grab the invitation URL and pass it to <code>.invitationURL()</code>:</p>
<pre class="highlight swift"><code><span class="k">guard</span> <span class="k">let</span> <span class="nv">url</span> <span class="o">=</span> <span class="kt">URLContexts</span><span class="o">.</span><span class="n">first</span><span class="p">?</span><span class="o">.</span><span class="n">url</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="p">}</span>

<span class="c1">// You need to wait for the app to enter the foreground before launching Web Auth</span>
<span class="kt">NotificationCenter</span>
    <span class="o">.</span><span class="k">default</span>
    <span class="o">.</span><span class="nf">publisher</span><span class="p">(</span><span class="nv">for</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="o">.</span><span class="n">didBecomeActiveNotification</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nv">on</span><span class="p">:</span> <span class="kt">DispatchQueue</span><span class="o">.</span><span class="n">main</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">prefix</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="o">.</span><span class="n">sink</span> <span class="p">{</span> <span class="n">_</span> <span class="k">in</span>
        <span class="kt">Auth0</span>
            <span class="o">.</span><span class="nf">webAuth</span><span class="p">()</span>
            <span class="o">.</span><span class="nf">invitationURL</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="o">.</span><span class="n">start</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
                <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
                <span class="k">case</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="k">let</span> <span class="nv">credentials</span><span class="p">):</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"Obtained credentials: </span><span class="se">\(</span><span class="n">credentials</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
                <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
                    <span class="nf">print</span><span class="p">(</span><span class="s">"Failed with </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
                <span class="p">}</span>
            <span class="p">}</span>
    <span class="p">}</span>
    <span class="o">.</span><span class="nf">store</span><span class="p">(</span><span class="nv">in</span><span class="p">:</span> <span class="o">&amp;</span><span class="n">cancellables</span><span class="p">)</span>
</code></pre>
<h3 id='authentication-api-ios-macos-tvos-watchos' class='heading'>Authentication API (iOS / macOS / tvOS / watchOS)</h3>

<p>The Authentication API exposes the AuthN/AuthZ functionality of Auth0, as well as the supported identity protocols like OpenID Connect, OAuth 2.0, and SAML.
We recommend using <a href="https://auth0.com/docs/login/universal-login">Universal Login</a> but if you wish to build your own UI, you can use our API endpoints to do so. However, some Auth flows (grant types) are disabled by default so you must enable them via your Auth0 Dashboard as explained in <a href="https://auth0.com/docs/configure/applications/update-grant-types">Update Grant Types</a>.</p>

<p>The <code>Password</code> Grant Type needs to be enabled in your application, for login with username/password using a realm (or connection name). If you set the grants via the Management API you should activate both <code>http://auth0.com/oauth/grant-type/password-realm</code> and <code>password</code>, otherwise the Auth0 Dashboard will take care of activating both when <code>Password</code> is enabled.</p>
<h4 id='login-with-database-connection' class='heading'>Login with database connection</h4>
<pre class="highlight swift"><code><span class="kt">Auth0</span>
    <span class="o">.</span><span class="nf">authentication</span><span class="p">()</span>
    <span class="o">.</span><span class="nf">login</span><span class="p">(</span><span class="nv">usernameOrEmail</span><span class="p">:</span> <span class="s">"support@auth0.com"</span><span class="p">,</span>
           <span class="nv">password</span><span class="p">:</span> <span class="s">"secret-password"</span><span class="p">,</span>
           <span class="nv">realm</span><span class="p">:</span> <span class="s">"Username-Password-Authentication"</span><span class="p">,</span>
           <span class="nv">scope</span><span class="p">:</span> <span class="s">"openid profile email offline_access"</span><span class="p">)</span>
     <span class="o">.</span><span class="n">start</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
         <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
         <span class="k">case</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="k">let</span> <span class="nv">credentials</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Obtained credentials: </span><span class="se">\(</span><span class="n">credentials</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
         <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Failed with </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
         <span class="p">}</span>
     <span class="p">}</span>
</code></pre>

<blockquote>
<p>This requires <code>Password</code> Grant or <code>http://auth0.com/oauth/grant-type/password-realm</code>.</p>
</blockquote>

<details>
  <summary>Using Combine</summary>

&rdquo;`swift
Auth0
   .authentication()
   .login(usernameOrEmail: &ldquo;support@auth0.com&rdquo;,
          password: &ldquo;secret-password&rdquo;,
          realm: &ldquo;Username-Password-Authentication&rdquo;,
          scope: &ldquo;openid profile&rdquo;)
   .publisher()
   .sink(receiveCompletion: { completion in
        if case .failure(let error) = completion {
            print(&ldquo;Failed with \(error)&rdquo;)
        }
    }, receiveValue: { credentials in
        print(&ldquo;Obtained credentials: \(credentials)&rdquo;)
    })
    .store(in: &cancellables)
&ldquo;`
</details>

<details>
  <summary>Using Async/Await</summary>

&rdquo;`swift
do {
    let credentials = try await Auth0
        .authentication()
        .login(usernameOrEmail: &ldquo;support@auth0.com&rdquo;,
               password: &ldquo;secret-password&rdquo;,
               realm: &ldquo;Username-Password-Authentication&rdquo;,
               scope: &ldquo;openid profile&rdquo;)
        .start()
    print(&ldquo;Obtained credentials: \(credentials)&rdquo;)
} catch {
    print(&ldquo;Failed with \(error)&rdquo;)
}
&ldquo;`
</details>
<h4 id='sign-up-with-database-connection' class='heading'>Sign up with database connection</h4>
<pre class="highlight swift"><code><span class="kt">Auth0</span>
    <span class="o">.</span><span class="nf">authentication</span><span class="p">()</span>
    <span class="o">.</span><span class="nf">createUser</span><span class="p">(</span><span class="nv">email</span><span class="p">:</span> <span class="s">"support@auth0.com"</span><span class="p">,</span>
                <span class="nv">password</span><span class="p">:</span> <span class="s">"secret-password"</span><span class="p">,</span>
                <span class="nv">connection</span><span class="p">:</span> <span class="s">"Username-Password-Authentication"</span><span class="p">,</span>
                <span class="nv">userMetadata</span><span class="p">:</span> <span class="p">[</span><span class="s">"first_name"</span><span class="p">:</span> <span class="s">"First"</span><span class="p">,</span> <span class="s">"last_name"</span><span class="p">:</span> <span class="s">"Last"</span><span class="p">])</span>
    <span class="o">.</span><span class="n">start</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
        <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="k">let</span> <span class="nv">user</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"User signed up: </span><span class="se">\(</span><span class="n">user</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Failed with </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre>

<details>
  <summary>Using Combine</summary>

&rdquo;`swift
Auth0
   .authentication()
   .createUser(email: &ldquo;support@auth0.com&rdquo;,
               password: &ldquo;secret-password&rdquo;,
               connection: &ldquo;Username-Password-Authentication&rdquo;,
               userMetadata: [&ldquo;first_name&rdquo;: &ldquo;First&rdquo;, &ldquo;last_name&rdquo;: &ldquo;Last&rdquo;])
   .publisher()
   .sink(receiveCompletion: { completion in
        if case .failure(let error) = completion {
            print(&ldquo;Failed with \(error)&rdquo;)
        }
    }, receiveValue: { user in
        print(&ldquo;User signed up: \(user)&rdquo;)
    })
    .store(in: &cancellables)
&ldquo;`
</details>

<details>
  <summary>Using Async/Await</summary>

&rdquo;`swift
do {
    let user = try await Auth0
        .authentication()
        .createUser(email: &ldquo;support@auth0.com&rdquo;,
                    password: &ldquo;secret-password&rdquo;,
                    connection: &ldquo;Username-Password-Authentication&rdquo;,
                    userMetadata: [&ldquo;first_name&rdquo;: &ldquo;First&rdquo;, &ldquo;last_name&rdquo;: &ldquo;Last&rdquo;])
        .start()
    print(&ldquo;User signed up: \(user)&rdquo;)
} catch {
    print(&ldquo;Failed with \(error)&rdquo;)
}
&ldquo;`
</details>
<h3 id='management-api-users' class='heading'>Management API (Users)</h3>

<p>You can request more information about a user&rsquo;s profile and manage the user&rsquo;s metadata by accessing the Auth0 <a href="https://auth0.com/docs/api/management/v2">Management API</a>. For security reasons native mobile applications are restricted to a subset of the Management API functionality.</p>

<p>You can find a detailed guide in this <a href="https://auth0.com/docs/quickstart/native/ios-swift/03-user-sessions#managing-metadata">iOS Swift QuickStart</a>.</p>
<h4 id='link-an-account' class='heading'>Link an account</h4>
<pre class="highlight swift"><code><span class="kt">Auth0</span>
    <span class="o">.</span><span class="nf">users</span><span class="p">(</span><span class="nv">token</span><span class="p">:</span> <span class="n">idToken</span><span class="p">)</span>
    <span class="o">.</span><span class="nf">link</span><span class="p">(</span><span class="s">"user identifier"</span><span class="p">,</span> <span class="nv">withOtherUserToken</span><span class="p">:</span> <span class="s">"another user token"</span><span class="p">)</span>
    <span class="o">.</span><span class="n">start</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
        <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nv">success</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Accounts linked"</span><span class="p">)</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Failed with </span><span class="se">\(</span><span class="n">error</span><span class="se">)</span><span class="s">"</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre>

<details>
  <summary>Using Combine</summary>

&rdquo;`swift
Auth0
   .users(token: idToken)
   .link(&ldquo;user identifier&rdquo;, withOtherUserToken: &ldquo;another user token&rdquo;)
   .publisher()
   .sink(receiveCompletion: { completion in
        if case .failure(let error) = completion {
            print(&ldquo;Failed with \(error)&rdquo;)
        }
        print(&ldquo;Accounts linked&rdquo;)
    }, receiveValue: { _ in })
    .store(in: &cancellables)
&ldquo;`
</details>

<details>
  <summary>Using Async/Await</summary>

&rdquo;`swift
do {
    try await Auth0
        .users(token: idToken)
        .link(&ldquo;user identifier&rdquo;, withOtherUserToken: &ldquo;another user token&rdquo;)
        .start()
    print(&ldquo;Accounts linked&rdquo;)
} catch {
    print(&ldquo;Failed with \(error)&rdquo;)
}
&ldquo;`
</details>
<h3 id='custom-domains' class='heading'>Custom Domains</h3>

<p>If you are using <a href="https://auth0.com/docs/brand-and-customize/custom-domains">Custom Domains</a> and need to call an Auth0 endpoint
such as <code>/userinfo</code>, please use the Auth0 domain specified for your Application in the <a href="https://manage.auth0.com/#/applications/">Auth0 Dashboard</a>.</p>
<pre class="highlight swift"><code><span class="kt">Auth0</span>
    <span class="o">.</span><span class="nf">webAuth</span><span class="p">()</span>
    <span class="o">.</span><span class="nf">audience</span><span class="p">(</span><span class="s">"https://YOUR_AUTH0_DOMAIN/userinfo"</span><span class="p">)</span>
    <span class="c1">// ...</span>
</code></pre>

<p>Users of Auth0 Private Cloud with Custom Domains still on the <a href="https://auth0.com/docs/deploy/private-cloud/private-cloud-migrations/migrate-private-cloud-custom-domains">legacy behavior</a> need to specify a custom issuer to match the Auth0 domain before starting the authentication. Otherwise, the ID Token validation will fail.</p>
<pre class="highlight swift"><code><span class="kt">Auth0</span>
    <span class="o">.</span><span class="nf">webAuth</span><span class="p">()</span>
    <span class="o">.</span><span class="nf">issuer</span><span class="p">(</span><span class="s">"https://YOUR_AUTH0_DOMAIN/"</span><span class="p">)</span>
    <span class="c1">// ...</span>
</code></pre>
<h3 id='bot-detection' class='heading'>Bot Detection</h3>

<p>If you are using the <a href="https://auth0.com/docs/configure/attack-protection/bot-detection">Bot Detection</a> feature and performing database login/signup via the Authentication API, you need to handle the <code>isVerificationRequired</code> error. It indicates that the request was flagged as suspicious and an additional verification step is necessary to log the user in. That verification step is web-based, so you need to use Universal Login to complete it.</p>
<pre class="highlight swift"><code><span class="kt">Auth0</span>
    <span class="o">.</span><span class="nf">authentication</span><span class="p">()</span>
    <span class="o">.</span><span class="nf">login</span><span class="p">(</span><span class="nv">usernameOrEmail</span><span class="p">:</span> <span class="n">email</span><span class="p">,</span> <span class="nv">password</span><span class="p">:</span> <span class="n">password</span><span class="p">,</span> <span class="nv">realm</span><span class="p">:</span> <span class="n">realm</span><span class="p">,</span> <span class="nv">scope</span><span class="p">:</span> <span class="n">scope</span><span class="p">)</span>
    <span class="o">.</span><span class="n">start</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
        <span class="k">switch</span> <span class="n">result</span> <span class="p">{</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">success</span><span class="p">(</span><span class="k">let</span> <span class="nv">credentials</span><span class="p">):</span> <span class="c1">// ...</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">)</span> <span class="k">where</span> <span class="n">error</span><span class="o">.</span><span class="nv">isVerificationRequired</span><span class="p">:</span>
        <span class="kt">DispatchQueue</span><span class="o">.</span><span class="n">main</span><span class="o">.</span><span class="k">async</span> <span class="p">{</span>
            <span class="kt">Auth0</span>
                <span class="o">.</span><span class="nf">webAuth</span><span class="p">()</span>
                <span class="o">.</span><span class="nf">connection</span><span class="p">(</span><span class="n">realm</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">scope</span><span class="p">(</span><span class="n">scope</span><span class="p">)</span>
                <span class="o">.</span><span class="nf">useEphemeralSession</span><span class="p">()</span>
                <span class="c1">// ☝🏼 Otherwise a session cookie will remain</span>
                <span class="o">.</span><span class="nf">parameters</span><span class="p">([</span><span class="s">"login_hint"</span><span class="p">:</span> <span class="n">email</span><span class="p">])</span>
                <span class="c1">// ☝🏼 So the user doesn't have to type it again</span>
                <span class="o">.</span><span class="n">start</span> <span class="p">{</span> <span class="n">result</span> <span class="k">in</span>
                    <span class="c1">// ...</span>
                <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">case</span> <span class="o">.</span><span class="nf">failure</span><span class="p">(</span><span class="k">let</span> <span class="nv">error</span><span class="p">):</span> <span class="c1">// ...</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre>

<p>In the case of signup, you can add <a href="https://auth0.com/docs/login/universal-login/new-experience#signup">an additional parameter</a> to make the user land directly on the signup page.</p>
<pre class="highlight swift"><code><span class="kt">Auth0</span>
    <span class="o">.</span><span class="nf">webAuth</span><span class="p">()</span>
    <span class="o">.</span><span class="nf">parameters</span><span class="p">([</span><span class="s">"login_hint"</span><span class="p">:</span> <span class="n">email</span><span class="p">,</span> <span class="s">"screen_hint"</span><span class="p">:</span> <span class="s">"signup"</span><span class="p">])</span>
    <span class="c1">// ...</span>
</code></pre>

<p>Check out how to set up Universal Login in the <a href="#getting-started">Getting Started</a> section.</p>
<h3 id='logging' class='heading'>Logging</h3>

<p>To enable Auth0.swift to log HTTP requests and OAuth2 flow for debugging you can call the following method in either <code><a href="Protocols/WebAuth.html">WebAuth</a></code>, <code><a href="Protocols/Authentication.html">Authentication</a></code> or <code><a href="Protocols/Users.html">Users</a></code>:</p>
<pre class="highlight swift"><code><span class="kt">Auth0</span>
    <span class="o">.</span><span class="nf">authentication</span><span class="p">()</span>
    <span class="o">.</span><span class="nf">logging</span><span class="p">(</span><span class="nv">enabled</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
    <span class="c1">// ...</span>
</code></pre>

<p>Then for a successful authentication you&rsquo;ll see something similar to the following:</p>
<pre class="highlight plaintext"><code>Safari: https://samples.auth0.com/authorize?.....
URL: com.auth0.myapp://samples.auth0.com/ios/com.auth0.MyApp/callback?...
POST https://samples.auth0.com/oauth/token HTTP/1.1
Content-Type: application/json

{"code":"...","client_id":"...","grant_type":"authorization_code","redirect_uri":"com.auth0.MyApp:\/\/samples.auth0.com\/ios\/com.auth0.MyApp\/callback","code_verifier":"..."}

HTTP/1.1 200
Pragma: no-cache
Content-Type: application/json
Strict-Transport-Security: max-age=3600
Date: Thu, 09 Jun 2016 19:04:39 GMT
Content-Length: 57
Cache-Control: no-cache
Connection: keep-alive

{"access_token":"...","token_type":"Bearer"}
</code></pre>

<blockquote>
<p>Set this flag only when <strong>DEBUGGING</strong> to avoid leaking user&rsquo;s credentials in the device log.</p>
</blockquote>
<h2 id='what-is-auth0' class='heading'>What is Auth0?</h2>

<p>Auth0 helps you to:</p>

<ul>
<li>Add authentication with <a href="https://auth0.com/docs/connections">multiple sources</a>, either social identity providers such as <strong>Google, Facebook, Microsoft Account, LinkedIn, GitHub, Twitter, Box, Salesforce</strong> (amongst others), or enterprise identity systems like <strong>Windows Azure AD, Google Apps, Active Directory, ADFS, or any SAML Identity Provider</strong>.</li>
<li>Add authentication through more traditional <strong><a href="https://auth0.com/docs/connections/database/custom-db">username/password databases</a></strong>.</li>
<li>Add support for <strong><a href="https://auth0.com/docs/users/user-account-linking">linking different user accounts</a></strong> with the same user.</li>
<li>Support for generating signed <a href="https://auth0.com/docs/security/tokens/json-web-tokens">JSON Web Tokens</a> to call your APIs and <strong>flow the user identity</strong> securely.</li>
<li>Analytics of how, when, and where users are logging in.</li>
<li>Pull data from other sources and add it to the user profile through <a href="https://auth0.com/docs/actions">JavaScript actions</a>.</li>
</ul>
<h2 id='create-a-free-auth0-account' class='heading'>Create a Free Auth0 Account</h2>

<ol>
<li>Go to <a href="https://auth0.com">Auth0</a> and click <strong>Sign Up</strong>.</li>
<li>Use Google, GitHub, or Microsoft Account to login.</li>
</ol>
<h2 id='issue-reporting' class='heading'>Issue Reporting</h2>

<p>If you have found a bug or to request a feature, please <a href="https://github.com/auth0/Auth0.swift/issues">raise an issue</a>. Please do not report security vulnerabilities on the public GitHub issue tracker. The <a href="https://auth0.com/responsible-disclosure-policy">Responsible Disclosure Program</a> details the procedure for disclosing security issues.</p>
<h2 id='author' class='heading'>Author</h2>

<p><a href="https://auth0.com">Auth0</a></p>
<h2 id='license' class='heading'>License</h2>

<p>This project is licensed under the MIT license. See the <a href="LICENSE">LICENSE</a> file for more info.</p>

          </div>
        </section>


      </article>
    </div>
    <section class="footer">
      <p>&copy; 2021 <a class="link" href="https://auth0.com" target="_blank" rel="external noopener">Auth0</a>. All rights reserved. (Last updated: 2021-12-14)</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.1</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
    </section>
  </body>
</html>
